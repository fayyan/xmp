(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{539:function(t,e,n){t.exports={edit_modal:"edit_modal_v9FB8NFF",name_wrap:"name_wrap_3N8ydeO7",edit_icon:"edit_icon_VMEaa3kF",name:"name_1kiQ7SVX"}},629:function(t,e,n){"use strict";var o=n(539),i=n.n(o);e.default=i.a},708:function(t,e,n){"use strict";n.r(e);var o=n(396),i=n(2),p=n(651);function a(){return[]}i.h.prototype.$IVIEW={modal:{maskClosable:""}};var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openModal=!1,e.left="",e.top="",e.inputEditErr="",e.inputEdit="",e.width=240,e.modalStyle={},e}return Object(o.d)(e,t),Object.defineProperty(e.prototype,"showLength",{get:function(){return this.limit>0},enumerable:!1,configurable:!0}),e.prototype.onOpenModalChange=function(t){var e=this;t?(this.inputEditErr="",this.updatePos(),this.inputEdit=this.content,setTimeout((function(){document.addEventListener("click",e.onDocumentClick,!1)}),100)):(this.inputEdit="",this.inputEditErr="",document.removeEventListener("click",this.onDocumentClick,!1))},e.prototype.onLeftChange=function(){this.updatePos()},e.prototype.onTopChange=function(){this.updatePos()},e.prototype.onInputEditChange=function(t){var e=this.validate(t);this.inputEditErr=e[0]},e.prototype.handleSave=function(){var t=this.validate(this.inputEdit);t.length||(this.$emit("on-save",{value:this.inputEdit,id:this.id}),this.openModal=!1),this.inputEditErr=t[0]},e.prototype.handleCancelSave=function(){this.openModal=!1},e.prototype.updatePos=function(){window.innerHeight;var t=window.innerWidth;parseFloat(this.left)+this.width>t?this.modalStyle={left:parseFloat(this.left)-this.width+"px",top:this.top}:this.modalStyle={left:this.left,top:this.top}},e.prototype.onDocumentClick=function(t){this.openModal=!1},e.prototype.stopPop=function(t){t.stopPropagation()},e.prototype.editName=function(t){this.openModal=!0,this.left=t.x+"px",this.top=t.y+"px"},e.prototype.beforeDestroy=function(){document.removeEventListener("click",this.onDocumentClick,!1),this.$el.removeEventListener("click",this.stopPop,!1);var t=this.$refs.pop;t&&t.$el&&t.$el.removeEventListener&&t.$el.removeEventListener("click",this.stopPop,!1)},e.prototype.mounted=function(){this.$el.addEventListener("click",this.stopPop,!1);var t=this.$refs.pop;t&&t.$el&&t.$el.addEventListener&&t.$el.addEventListener("click",this.stopPop,!1)},Object(o.c)([Object(i.e)({type:String})],e.prototype,"id",void 0),Object(o.c)([Object(i.e)({type:String})],e.prototype,"content",void 0),Object(o.c)([Object(i.e)({type:Function,default:a})],e.prototype,"validate",void 0),Object(o.c)([Object(i.e)({type:Number,default:0})],e.prototype,"limit",void 0),Object(o.c)([Object(i.e)({type:String,default:"string"})],e.prototype,"type",void 0),Object(o.c)([Object(i.e)({type:Boolean,default:!1})],e.prototype,"disabled",void 0),Object(o.c)([Object(i.i)("openModal")],e.prototype,"onOpenModalChange",null),Object(o.c)([Object(i.i)("left")],e.prototype,"onLeftChange",null),Object(o.c)([Object(i.i)("top")],e.prototype,"onTopChange",null),Object(o.c)([Object(i.i)("inputEdit")],e.prototype,"onInputEditChange",null),e=Object(o.c)([Object(i.a)({components:{InputWithLength:p.default}})],e)}(i.h),s=n(629),r=n(7);var c=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:t.$style.name_wrap},[n("span",{class:t.$style.name,attrs:{title:t.content}},[t._v("\n            "+t._s(t.content)+"\n        ")]),t._v(" "),t.disabled?t._e():n("Icon",{class:t.$style.edit_icon,attrs:{type:"md-create"},on:{click:function(e){return t.editName(e)}}})],1),t._v(" "),t.disabled?t._e():n("Modal",{ref:"pop",class:t.$style.edit_modal,attrs:{styles:t.modalStyle,width:t.width,closable:!1,mask:!1},model:{value:t.openModal,callback:function(e){t.openModal=e},expression:"openModal"}},[n("Form",{nativeOn:{submit:function(e){return e.preventDefault(),t.handleSave(e)}}},[n("FormItem",{attrs:{error:t.inputEditErr}},[t.showLength?n("InputWithLength",{attrs:{type:t.type,limit:t.limit},model:{value:t.inputEdit,callback:function(e){t.inputEdit="string"==typeof e?e.trim():e},expression:"inputEdit"}}):n("Input",{model:{value:t.inputEdit,callback:function(e){t.inputEdit="string"==typeof e?e.trim():e},expression:"inputEdit"}})],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{size:"small"},on:{click:t.handleCancelSave}},[t._v("Cancel")]),t._v(" "),n("Button",{attrs:{size:"small",type:"primary"},on:{click:t.handleSave}},[t._v("Save")])],1)],1)],1)}),[],!1,(function(t){this.$style=s.default.locals||s.default}),null,null);e.default=c.exports}}]);