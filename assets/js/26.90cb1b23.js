(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{416:function(t,e,n){t.exports={root:"root_3zJZgpZE",clearBox:"clearBox_3r-3aH0P",tag:"tag_2_pXm_GT",tagsBox:"tagsBox_2vYslgxk",tagsGroupFlexbox:"tagsGroupFlexbox_2STa_KXR",tagGroupName:"tagGroupName_1AjrQNQc",groupTags:"groupTags_OSzZlcxW"}},460:function(t,e,n){"use strict";var o=n(416),i=n.n(o);e.default=i.a},480:function(t,e,n){"use strict";n.r(e);var o=n(396),i=n(2),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tags=[],e}return Object(o.d)(e,t),e.prototype.watchValue=function(){this.tags=this.value},Object.defineProperty(e.prototype,"tagsByGroup",{get:function(){return this.value.reduce((function(t,e){var n=e.group||"";return t[n]?t[n].tags.push(e):t[n]={id:n,name:e.groupName,tags:[e]},t}),{})},enumerable:!1,configurable:!0}),e.prototype.handleTagRemove=function(t){this.tags=this.tags.filter((function(e){return e.id!==t.id})),this.$emit("remove",t),this.emitInput()},e.prototype.handleClearClick=function(){var t=this.tags;this.tags=[],this.$emit("remove-all",t),this.emitInput()},e.prototype.emitInput=function(){this.$emit("input",this.tags)},e.prototype.beforeMount=function(){this.watchValue()},Object(o.c)([Object(i.e)({required:!0,type:Array})],e.prototype,"value",void 0),Object(o.c)([Object(i.i)("value")],e.prototype,"watchValue",null),e=Object(o.c)([i.a],e)}(i.h),r=n(460),a=n(7);var l=Object(a.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.$style.root},[n("div",{class:t.$style.clearBox},[n("a",{attrs:{href:"javascript:"},on:{click:t.handleClearClick}},[t._v("clear")])]),t._v(" "),n("div",{class:t.$style.tagsBox},t._l(t.tagsByGroup,(function(e,o){return n("div",{key:o,class:t.$style.tagsGroupFlexbox},[e.name||t.$scopedSlots["tag-group-name"]?n("div",{class:t.$style.tagGroupName},[t._t("tag-group-name",[t._v(t._s(e.name))],{groupId:o})],2):t._e(),t._v(" "),n("div",{class:t.$style.groupTags},t._l(e.tags,(function(e,i){return n("Tag",{key:e.id,class:[t.$style.tag],attrs:{color:"primary",closable:"",fade:!1,name:e.id},on:{"on-close":function(n){return t.handleTagRemove(e)}}},[t._t("tag-name",[t._v(t._s(e.name))],{tag:e,tagGroup:o,indexInGroup:i})],2)})),1)])})),0)])}),[],!1,(function(t){this.$style=r.default.locals||r.default}),null,null);e.default=l.exports},533:function(t,e,n){t.exports={root:"root_2ImAK2NB",tagsPane:"tagsPane_2D_wNrpP",inputQuerySelected:"inputQuerySelected_p0KyHwEl",dropDownMenu:"dropDownMenu_1uR29Jw0",listTip:"listTip_36zwA5os",list:"list_sz2Dopsx",optionName:"optionName_3kcLGL5-",operationItem:"operationItem_3nrW2nKC"}},625:function(t,e,n){"use strict";var o=n(533),i=n.n(o);e.default=i.a},706:function(t,e,n){"use strict";n.r(e);var o=n(396),i=n(2),s=n(656),r=n(480),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loading=!1,e.apiList=[],e.showList=[],e.query="",e.tagList=[],e.selectedList=Object(s.a)(e.value),e.opened=!1,e.dropdownVisible=!1,e.dropdownWidth=0,e}return Object(o.d)(e,t),Object.defineProperty(e.prototype,"selectedOptionTags",{get:function(){var t=this;this.tagList=[];var e=[];return Object.keys(this.selectedList).forEach((function(n){t.selectedList[n].forEach((function(o){e.push({id:o.audience_id,name:o.name,group:n,groupName:t.$t("component.customCrowdSelector."+n)})}))})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"getOptionList",{get:function(){var t=this;return this.apiList.filter((function(e){return-1===t.selectedOptionTags.findIndex((function(t){return t.id===e.audience_id}))}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputIcon",{get:function(){return this.dropdownVisible?"ios-arrow-up":"ios-arrow-down"},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){window.addEventListener("resize",this.resetDropdownWidth)},e.prototype.beforeDestroy=function(){window.removeEventListener("resize",this.resetDropdownWidth)},e.prototype.changeDropdownVisible=function(t){this.dropdownVisible=t,t&&!this.opened&&(this.resetDropdownWidth(),this.opened=!0)},e.prototype.getList=function(){var t=this;this.remoteMethod&&(this.loading=!0,this.remoteMethod(this.query).then((function(e){t.apiList=e,t.loading=!1})).catch((function(e){t.loading=!1})))},e.prototype.resetDropdownWidth=function(){this.dropdownWidth=this.$refs.dropdown.$el.scrollWidth},e.prototype.handleOperationClick=function(t,e){this.selectedList[t]||(this.selectedList[t]=[]),this.selectedList[t].push(e),this.handleEmitInput()},e.prototype.handleTagRemove=function(t){var e,n=t.removedTags,i=n[0].group;this.selectedList=Object(o.a)(Object(o.a)({},this.selectedList),((e={})[i]=this.selectedList[i].filter((function(t){return!n.some((function(e){return e.id===t.audience_id}))})),e)),this.handleEmitInput()},e.prototype.handleTagRemoveAll=function(){var t=this;this.operationList.forEach((function(e){t.selectedList[e]=[]})),this.handleEmitInput()},e.prototype.handleEmitInput=function(){this.$emit("input",this.selectedList)},e.prototype.handleKeyUp=function(){this.$refs.dropdown.currentVisible=!0},Object(o.c)([Object(i.e)({required:!0,type:Object})],e.prototype,"value",void 0),Object(o.c)([Object(i.e)({type:Array,default:["exclude","include"]})],e.prototype,"operationList",void 0),Object(o.c)([Object(i.e)({required:!0,type:Function})],e.prototype,"remoteMethod",void 0),Object(o.c)([Object(i.e)({type:String})],e.prototype,"placeholder",void 0),e=Object(o.c)([Object(i.a)({components:{TagsPane:r.default}})],e)}(i.h),l=n(625),c=n(7);var u=Object(c.a)(a,(function(){var t,e=this,n=e.$createElement,o=e._self._c||n;return o("div",{class:e.$style.root},[o("TagsPane",{directives:[{name:"show",rawName:"v-show",value:e.selectedOptionTags.length,expression:"selectedOptionTags.length"}],class:e.$style.tagsPane,attrs:{value:e.selectedOptionTags},on:{remove:e.handleTagRemove,"remove-group":e.handleTagRemove,"remove-all":e.handleTagRemoveAll},scopedSlots:e._u([e.$scopedSlots["tag-group-name"]?{key:"tag-group-name",fn:function(t){return[e._t("tag-group-name",null,null,t)]}}:null,{key:"tag-name",fn:function(t){return[e._t("tag-name",null,null,t)]}}],null,!0)}),e._v(" "),o("Dropdown",{ref:"dropdown",staticStyle:{display:"block"},attrs:{placement:"bottom-start",trigger:"custom",transfer:"",visible:e.dropdownVisible},on:{"on-clickoutside":function(t){return e.changeDropdownVisible(!1)}}},[o("Input",{ref:"inputRef",class:(t={},t[e.$style.inputQuerySelected]=e.selectedOptionTags.length,t),attrs:{placeholder:e.placeholder,suffix:e.inputIcon},on:{"on-keyup":e.handleKeyUp},nativeOn:{click:function(t){return e.changeDropdownVisible(!0)}},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}}),e._v(" "),o("DropdownMenu",{class:e.$style.dropDownMenu,style:{width:e.dropdownWidth+"px"},attrs:{slot:"list"},nativeOn:{click:function(t){return t.stopPropagation()}},slot:"list"},[o("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],class:e.$style.listTip},[e._v("\n                加载中\n            ")]),e._v(" "),o("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:!e.getOptionList.length&&!e.loading,expression:"!getOptionList.length && !loading"}],class:e.$style.listTip},[e._v("\n                没有数据\n            ")]),e._v(" "),e._l(e.getOptionList,(function(t,n){return o("DropdownItem",{directives:[{name:"show",rawName:"v-show",value:e.getOptionList.length&&!e.loading,expression:"getOptionList.length && !loading"}],key:t.name},[o("div",{class:e.$style.list},[e._t("selectOptionLabel",[o("span",{class:e.$style.optionName},[e._v(e._s(t.name))])],{item:t,index:n,list:e.getOptionList}),e._v(" "),o("div",e._l(e.operationList,(function(n){return o("span",{key:n,class:e.$style.operationItem,on:{click:function(o){return e.handleOperationClick(n,t)}}},[e._v("\n            "+e._s("exclude"===n?"排除":"定向")+"\n          ")])})),0)],2)])}))],2)],1)],1)}),[],!1,(function(t){this.$style=l.default.locals||l.default}),null,null);e.default=u.exports}}]);